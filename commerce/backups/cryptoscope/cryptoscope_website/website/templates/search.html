<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet">
		<link href="/static/style.css" rel="stylesheet">
        <script text="text/javascript">var xsrf_token = '{{handler.xsrf_token.decode("utf-8")}}';</script>
        <script src="/static/jquery.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="/static/bootstrap/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="/static/highcharts.js"></script>
        <script type="text/javascript" src="/static/theme.js"></script>
        <script type="text/javascript" src="/static/crypto.js"></script>
	</head>
    <body class="overview vh-100 d-flex flex-column bg-dark">
		{% include "navigation.html" %}
		<div class="container-fluid d-flex flex-grow-1 flex-column">
            {% if not len(data["transactions"]) %}
                <div class="d-flex justify-content-center text-center align-items-center px-5 py-3">
                    <div class="col px-3">
                        <div class="text-ligh">
                            <h5><span class="badge bg-secondary">No matching transactions</span></h5>
                        </div>
                    </div>
                </div>
				<div class="toast-container position-fixed bottom-0 end-0 p-3">
					<div class="toast search_hint" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false">
						<div class="toast-header">
							<strong class="me-auto">CryptoQL Support</strong>
							<small class="text-body-secondary">Just now</small>
							<button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
						</div>
						<div class="toast-body">
							<p>You can search for multiple (combined) terms. For example "<i>adam william</i>" will search
							for transactions containing both "adam" and "william". Simple text
							search is case-insenstive by default.</p>
							<p>Basic CryptoQL filters are also supported and can be included inline in the search 
							terms. For example "<i>adam filter-symbol:mnd</i>". 
							<p>The following commands are currenly implemented:</p> 
							<ul>
								<li>filter-symbol</li>
								<li>filter-username</li>
								<li>filter-above</li>
								<li>filter-below</li>
							</ul>
						</div>
					</div>
				</div>
            {% else %}
                <div class="d-flex justify-content-center text-center align-items-center px-5 py-3">
                    <div class="col px-3">
                        <div class="text-ligh">
                            <h5><span class="badge bg-secondary">Number of results: {{ len(data["transactions"]) }}</span></h5>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-center text-center align-items-center px-5 py-2">
                    <div class="col px-3 py-2">
                        <table class="table table-dark table-striped table-sm text-center">
                            <thead>
                                <th scope="col" class="small">#</th>
                                <th scope="col" class="small">Currency</th>
                                <th scope="col">Source</th>
                                <th scope="col">Wallet</th>
                                <th scope="col">Destination</th>
                                <th scope="col">Wallet</th>
                                <th scope="col">Amount</th>
                            </thead>
                            <tbody>
                                {% for item in data["transactions"] %} 
                                    <tr>
                                        <td>{{ item["index"] }}</td>
                                        <td><a class="text-light" href="/detail?symbol={{ item["symbol"] }}">{{ item["symbol"] }}</a></td>
                                        <td>{{ item["src"] }}</td>
                                        <td class="text-truncate">{{ item["src_wallet"] }}</td>
                                        <td>{{ item["dst"] }}</td>
                                        <td class="text-truncate">{{ item["dst_wallet"] }}</td>
                                        <td>{{ item["amount"] }}</td>
                                    </tr>
                                {% end %}
                            </tbody>
                        </table>
                    </div>
                </div>
            {% end %}
		</div>
    </body>
</html>
